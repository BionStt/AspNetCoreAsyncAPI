2017-06-21 10:55:57.9547|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request starting HTTP/1.1 GET http://localhost:23859/  
2017-06-21 10:55:57.9547|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request starting HTTP/1.1 DEBUG http://localhost:23859/  0
2017-06-21 10:55:58.2017|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request finished in 292.0704ms 200 
2017-06-21 10:55:58.4227|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request finished in 517.9094ms 404 text/plain
2017-06-21 10:55:58.4407|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request starting HTTP/1.1 GET http://localhost:23859/favicon.ico  
2017-06-21 10:55:58.4447|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request finished in 3.158ms 404 text/plain
2017-06-21 10:56:21.7901|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request starting HTTP/1.1 GET http://localhost:23859/api/testdatabase application/json 
2017-06-21 10:56:34.3983|INFO|Microsoft.EntityFrameworkCore.Storage.IRelationalCommandBuilderFactory|Executed DbCommand (1,157ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [CityInfoDB];
2017-06-21 10:56:35.0724|INFO|Microsoft.EntityFrameworkCore.Storage.IRelationalCommandBuilderFactory|Executed DbCommand (668ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5 EXEC(N'ALTER DATABASE [CityInfoDB] SET READ_COMMITTED_SNAPSHOT ON;');
2017-06-21 10:56:35.2624|INFO|Microsoft.EntityFrameworkCore.Storage.IRelationalCommandBuilderFactory|Executed DbCommand (52ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2017-06-21 10:56:35.3164|INFO|Microsoft.EntityFrameworkCore.Storage.IRelationalCommandBuilderFactory|Executed DbCommand (49ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'__EFMigrationsHistory');
2017-06-21 10:56:35.3544|INFO|Microsoft.EntityFrameworkCore.Storage.IRelationalCommandBuilderFactory|Executed DbCommand (16ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2017-06-21 10:56:35.3854|INFO|Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator|Applying migration '20170621144946_CityInfoDbInitialMigration'.
2017-06-21 10:56:35.4725|INFO|Microsoft.EntityFrameworkCore.Storage.IRelationalCommandBuilderFactory|Executed DbCommand (35ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Cities] (
    [Id] int NOT NULL IDENTITY,
    [Description] nvarchar(max),
    [Name] nvarchar(max),
    CONSTRAINT [PK_Cities] PRIMARY KEY ([Id])
);
2017-06-21 10:56:35.4895|INFO|Microsoft.EntityFrameworkCore.Storage.IRelationalCommandBuilderFactory|Executed DbCommand (14ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [PointsOfInterest] (
    [Id] int NOT NULL IDENTITY,
    [CityId] int NOT NULL,
    [Description] nvarchar(200),
    [Name] nvarchar(50) NOT NULL,
    CONSTRAINT [PK_PointsOfInterest] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_PointsOfInterest_Cities_CityId] FOREIGN KEY ([CityId]) REFERENCES [Cities] ([Id]) ON DELETE CASCADE
);
2017-06-21 10:56:35.5215|INFO|Microsoft.EntityFrameworkCore.Storage.IRelationalCommandBuilderFactory|Executed DbCommand (29ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_PointsOfInterest_CityId] ON [PointsOfInterest] ([CityId]);
2017-06-21 10:56:35.5555|INFO|Microsoft.EntityFrameworkCore.Storage.IRelationalCommandBuilderFactory|Executed DbCommand (31ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20170621144946_CityInfoDbInitialMigration', N'1.1.2');
2017-06-21 10:56:35.6195|INFO|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|Executing action method CityInfo.API.Controllers.DummyController.TestDatabase (Filenet.Apis) with arguments ((null)) - ModelState is Valid
2017-06-21 10:56:35.6295|INFO|Microsoft.AspNetCore.Mvc.StatusCodeResult|Executing HttpStatusCodeResult, setting HTTP status code 200
2017-06-21 10:56:35.6405|INFO|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|Executed action CityInfo.API.Controllers.DummyController.TestDatabase (Filenet.Apis) in 13787.838ms
2017-06-21 10:56:35.6405|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request finished in 13855.6044ms 200 
2017-06-21 12:14:54.0453|INFO|Microsoft.EntityFrameworkCore.Storage.IRelationalCommandBuilderFactory|Executed DbCommand (142ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c])
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END
2017-06-21 12:14:55.3114|INFO|Microsoft.EntityFrameworkCore.Storage.IRelationalCommandBuilderFactory|Executed DbCommand (628ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
DECLARE @toInsert0 TABLE ([Description] nvarchar(max), [Name] nvarchar(max), [_Position] [int]);
INSERT INTO @toInsert0
VALUES (@p0, @p1, 0),
(@p2, @p3, 1),
(@p4, @p5, 2);

DECLARE @inserted0 TABLE ([Id] int, [_Position] [int]);
MERGE [Cities] USING @toInsert0 AS i ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Description], [Name])
VALUES (i.[Description], i.[Name])
OUTPUT INSERTED.[Id], i._Position
INTO @inserted0;

SELECT [t].[Id] FROM [Cities] t
INNER JOIN @inserted0 i ON ([t].[Id] = [i].[Id])
ORDER BY [i].[_Position];
2017-06-21 12:14:55.4464|INFO|Microsoft.EntityFrameworkCore.Storage.IRelationalCommandBuilderFactory|Executed DbCommand (75ms) [Parameters=[@p6='?', @p7='?' (Size = 200), @p8='?' (Size = 50), @p9='?', @p10='?' (Size = 200), @p11='?' (Size = 50), @p12='?', @p13='?' (Size = 200), @p14='?' (Size = 50), @p15='?', @p16='?' (Size = 200), @p17='?' (Size = 50), @p18='?', @p19='?' (Size = 200), @p20='?' (Size = 50), @p21='?', @p22='?' (Size = 200), @p23='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
DECLARE @toInsert0 TABLE ([CityId] int, [Description] nvarchar(200), [Name] nvarchar(50), [_Position] [int]);
INSERT INTO @toInsert0
VALUES (@p6, @p7, @p8, 0),
(@p9, @p10, @p11, 1),
(@p12, @p13, @p14, 2),
(@p15, @p16, @p17, 3),
(@p18, @p19, @p20, 4),
(@p21, @p22, @p23, 5);

DECLARE @inserted0 TABLE ([Id] int, [_Position] [int]);
MERGE [PointsOfInterest] USING @toInsert0 AS i ON 1=0
WHEN NOT MATCHED THEN
INSERT ([CityId], [Description], [Name])
VALUES (i.[CityId], i.[Description], i.[Name])
OUTPUT INSERTED.[Id], i._Position
INTO @inserted0;

SELECT [t].[Id] FROM [PointsOfInterest] t
INNER JOIN @inserted0 i ON ([t].[Id] = [i].[Id])
ORDER BY [i].[_Position];
2017-06-21 12:14:56.0605|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request starting HTTP/1.1 DEBUG http://localhost:23859/  0
2017-06-21 12:14:56.0605|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request starting HTTP/1.1 GET http://localhost:23859/  
2017-06-21 12:14:56.1705|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request finished in 124.108ms 200 
2017-06-21 12:14:56.3355|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request finished in 296.324ms 404 text/plain
2017-06-21 12:14:56.3535|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request starting HTTP/1.1 GET http://localhost:23859/favicon.ico  
2017-06-21 12:14:56.3535|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request finished in 3.4505ms 404 text/plain
